<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>HTML</title>
    <style>
    #editor {
        display: block;
        margin: auto;
        width: 50%;
        height: 502px;
        border: 1px solid #888;
    }
    </style>
    <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

</head>

<body>
    <div id="editor" style="display: inline-block">
    var add = function(one, two) {

    }
    </div>
    <iframe id="mocha-runner" src="/api/arena/iframe" style="display: inline-block; width: 45%; height: 500px;"></iframe>
    <script src="http://cdn.jsdelivr.net/ace/1.1.8/min/ace.js" type="text/javascript" charset="utf-8"></script>
    <script>
    var testing = new Firebase('https://dazzling-torch-169.firebaseio.com/code')

    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");
    $('#editor').keypress(function(e) {
        if ( e.keyCode === 13 ) {
        testing.set(editor.getValue(), function(data) {

        })
        document.getElementById('mocha-runner').src = document.getElementById('mocha-runner').src
        }
    });

    </script>
</body>

</html>
